#include<iostream>
#include<string>
#include<vector>
using namespace std;

struct task{
	std::string description;
	bool completed;
};
std::vector<task> Tasks;

void add_tasks(std::string desc){
	task newtask;
	newtask.description= desc;
	newtask.completed=false;
	Tasks.push_back(newtask);
	std::cout<<"task added"<<endl;
}
void view_tasks(){
	cout<<"---TASK LIST---"<<endl;
	if(Tasks.size()==0){
		cout<<"No Tasks available"<<endl;
	}
	else{
		for(int i=0;i<Tasks.size();i++){
			cout<<i+1<<".["<<(Tasks[i].completed?"DONE":"PENDING")<<"]"<<Tasks[i].description<<endl;
		}
	}
}

void mark_tasks(){
	view_tasks();
	if (Tasks.size() == 0) return;
	
	int index;
	cout<<"Enter the number of that Task you want to mark as completed: "<<endl;
	cin>>index;
	if(index<=0||index>Tasks.size()){
		cout<<"Invalid Number!!!"<<endl;
	}
	else{
		Tasks[index-1].completed=true;
		cout<<"Task had marked as completed"<<endl;
	}
}

void remove_tasks(){
	int index;
	cout<<"Enter the number of that Task you want to remove: "<<endl;
	cin>>index;
	if(index<=0||index>Tasks.size()){
		cout<<"Invalid Number!!!"<<endl;
	}
	else{
		Tasks.erase(Tasks.begin()+index-1);
		cout<<"Task has been removed successfully!!!"<<endl;
	}
}

void show_menu(){
	cout<<"---TO-DO LIST MENU---"<<endl;
	cout<<"1. Add Tasks"<<endl;
	cout<<"2. View Tasks"<<endl;
	cout<<"3. Mark completed Tasks"<<endl;
	cout<<"4. Remove tasks "<<endl;
	cout<<"5. Exit"<<endl;
	cout<<"Choose an option"<<endl;
}

int main(){
	int choice;
	std::string desc;
	int index;
	while(true){
	    show_menu();
	    cout<<"Please enter your choice: "<<endl;
	    cin>>choice;
		switch(choice){
			case 1:{
				cout<<"Enter task description: ";
				cin.ignore();
				getline(cin,desc);
				add_tasks(desc);
				break;
			}
			case 2:{
				view_tasks();
				break;
			}
			case 3:{
				mark_tasks();
				break;
			}
			case 4:{
				remove_tasks();
				break;
			}
			case 5:{
				cout<<"Exiting To-Do list. good bye !!"<<endl;
				return 0;
				break;
			}
			default:
				cout<<"Invalid choice. Try again"<<endl;
		}
	}
	
}
